{% extends 'term/base.html' %}

{% block style %}
.card-container {
    perspective: 1000px;
}
.card {
    position: relative;
    width: 100%;
    height: 300px;
    transform-style: preserve-3d;
    transition: transform 0.6s;
}
.card.flip {
    transform: rotateY(180deg);
}
.card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 0.5rem;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    text-align: center;
}
.card-front {
    background: #ffffff;
    color: #4F46E5;
}
.card-back {
    background: #EEF2FF;
    color: #1E40AF;
    transform: rotateY(180deg);
}
.nav-button {
    cursor: pointer;
    background-color: #4F46E5;
    color: #fff;
    padding: 10px 20px;
    border-radius: 0.375rem;
    font-size: 1rem;
    font-weight: 500;
    transition: background-color 0.3s;
}
.nav-button:hover {
    background-color: #4338CA;
}
.progress-bar {
    width: 100%;
    height: 8px;
    background-color: #E2E8F0;
    border-radius: 4px;
    overflow: hidden;
}
.progress {
    height: 100%;
    background-color: #4F46E5;
    transition: width 0.3s ease;
}
{% endblock %}

{% block content%}
    <!-- Progresso -->
    <div class="mb-12">
        <div class="flex justify-between items-center mb-2">
            <span class="text-sm font-medium text-gray-600">Progresso: 45/150</span>
            <span class="text-sm font-medium text-gray-600">30% Concluído</span>
        </div>
        <div class="relative">
            <div class="absolute inset-0 bg-gray-200 h-2.5 rounded-full">
                <div class="bg-indigo-600 h-2.5 rounded-full" style="width: 30%;"></div>
            </div>
        </div>
    </div>

    <!-- Visualização do Flashcard -->
    <div class="flex items-center justify-center mt-12 mb-4">
        <button id="prev-card" class="nav-button flex items-center">
            <i class="fas fa-chevron-left"></i>
        </button>
        <div class="card-container w-full max-w-xl mx-8 flex justify-center cursor-pointer">
            <div id="flashcard" class="card">
                <div class="card-face card-front">
                    <p class="text-2xl font-semibold">Qual é a conjugação do verbo "être" no presente?</p>
                </div>
                <div class="card-face card-back">
                    <p class="text-xl">
                        Je suis<br>
                        Tu es<br>
                        Il/Elle/On est<br>
                        Nous sommes<br>
                        Vous êtes<br>
                        Ils/Elles sont
                    </p>
                </div>
            </div>
        </div>
        <button id="next-card" class="nav-button flex items-center">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>

    <!-- Botões de Ação -->
    <div class="flex justify-center space-x-4 mb-4">
        <button class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition duration-300 flex items-center">
            <i class="fas fa-plus mr-2"></i> Adicionar Novo Cartão
        </button>
        <button class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition duration-300 flex items-center">
            <i class="fas fa-edit mr-2"></i> Editar Cartão
        </button>
        <button class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition duration-300 flex items-center">
            <i class="fas fa-trash-alt mr-2"></i> Apagar Cartão
        </button>
    </div>
{% endblock %}   

{% block script %}
<script>
    const flashcard = document.getElementById('flashcard');
    flashcard.addEventListener('click', () => {
        flashcard.classList.toggle('flip');
    });

    // Simular navegação entre cards (para demonstração)
    let currentCard = 1;
    const totalCards = 150;
    const progressBar = document.querySelector('.progress');
    const progressText = document.querySelector('.text-sm.font-medium.text-gray-600');

    function updateProgress() {
        const progress = (currentCard / totalCards) * 100;
        progressBar.style.width = `${progress}%`;
        progressText.textContent = `Progresso: ${currentCard}/${totalCards}`;
    }

    document.getElementById('prev-card').addEventListener('click', () => {
        if (currentCard > 1) {
            currentCard--;
            updateProgress();
        }
    });

    document.getElementById('next-card').addEventListener('click', () => {
        if (currentCard < totalCards) {
            currentCard++;
            updateProgress();
        }
    });
</script>
{% endblock %}